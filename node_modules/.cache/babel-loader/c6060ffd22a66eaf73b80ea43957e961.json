{"ast":null,"code":"import _slicedToArray from\"C:/Users/sudha/Desktop/NCSU/Junior Year NCSU/CSC 342/342-frontend-2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Accordion,AccordionSummary,Typography,AccordionDetails,FormControl,FormLabel,RadioGroup,FormControlLabel,Radio,Divider,Slider}from'@mui/material';import ExpandMoreIcon from'@mui/icons-material/ExpandMore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Filter=function Filter(_ref){var movies=_ref.movies,setMovies=_ref.setMovies,watchlist=_ref.watchlist,setWatchlist=_ref.setWatchlist;var _useState=useState(movies),_useState2=_slicedToArray(_useState,1),database=_useState2[0];var _useState3=useState('Everything'),_useState4=_slicedToArray(_useState3,2),radio=_useState4[0],setRadio=_useState4[1];var _useState5=useState([0,10]),_useState6=_slicedToArray(_useState5,2),rating=_useState6[0],setRating=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),minimumRating=_useState8[0],setMinimumRating=_useState8[1];// handles updating the movies when any of the filters change\nuseEffect(function(){var updateMovies=function updateMovies(){var filtered=[];if(watchlist!==null&&setWatchlist!==null){if(radio==='Everything'){filtered=database;}else if(radio==='InWatchlist'){filtered=watchlist;}else if(radio==='NotInWatchlist'){filtered=database.filter(function(movie){for(var i=0;i<watchlist.length;i++){if(watchlist[i].id===movie.id)return false;}return true;});}else throw new Error('There was an error!');}else{filtered=database;}filtered=filtered.filter(function(movie){return movie.vote_average>=rating[0]&&movie.vote_average<=rating[1]&&movie.vote_count>=minimumRating;});return filtered;};setMovies(updateMovies());// eslint-disable-next-line   \n},[radio,rating,minimumRating]);if(watchlist!==null){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Accordion,{children:[/*#__PURE__*/_jsx(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMoreIcon,{}),children:/*#__PURE__*/_jsx(Typography,{style:{color:'#CC0000'},children:\"Filters\"})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(AccordionDetails,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(FormControl,{component:\"fieldset\",focused:false,children:[/*#__PURE__*/_jsxs(FormLabel,{component:\"legend\",children:[\"Show Me\",/*#__PURE__*/_jsxs(RadioGroup,{defaultValue:radio,children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"Everything\",onChange:function onChange(e){return setRadio(e.currentTarget.value);},control:/*#__PURE__*/_jsx(Radio,{color:\"error\"}),label:\"Everything\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"InWatchlist\",onChange:function onChange(e){return setRadio(e.currentTarget.value);},control:/*#__PURE__*/_jsx(Radio,{color:\"error\"}),label:\"In My Watchlist\"}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"NotInWatchlist\",onChange:function onChange(e){return setRadio(e.currentTarget.value);},control:/*#__PURE__*/_jsx(Radio,{color:\"error\"}),label:\"Not In My Watchlist\"})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(FormLabel,{component:\"legend\",children:[\"Rating\",/*#__PURE__*/_jsx(Slider,{style:{color:'#CC0000'},valueLabelDisplay:\"auto\",value:rating,onChange:function onChange(e,newRating){return setRating(newRating);},step:1,marks:true,min:0,max:10})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(FormLabel,{component:\"legend\",children:[\"Minimum Number of Ratings\",/*#__PURE__*/_jsx(Slider,{style:{color:'#CC0000'},defaultValue:0,valueLabelDisplay:\"auto\",value:minimumRating,onChange:function onChange(e,newMinimumRating){return setMinimumRating(newMinimumRating);},step:50,marks:true,min:0,max:500})]})]})]})]})});}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Accordion,{children:[/*#__PURE__*/_jsx(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMoreIcon,{}),children:/*#__PURE__*/_jsx(Typography,{style:{color:'#CC0000'},children:\"Filters\"})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(AccordionDetails,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(FormControl,{component:\"fieldset\",focused:false,children:[/*#__PURE__*/_jsxs(FormLabel,{component:\"legend\",children:[\"Rating\",/*#__PURE__*/_jsx(Slider,{style:{color:'#CC0000'},valueLabelDisplay:\"auto\",value:rating,onChange:function onChange(e,newRating){return setRating(newRating);},step:1,marks:true,min:0,max:10})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(FormLabel,{component:\"legend\",children:[\"Minimum Number of Ratings\",/*#__PURE__*/_jsx(Slider,{style:{color:'#CC0000'},defaultValue:0,valueLabelDisplay:\"auto\",value:minimumRating,onChange:function onChange(e,newMinimumRating){return setMinimumRating(newMinimumRating);},step:50,marks:true,min:0,max:500})]})]})]})]})});}};export default Filter;","map":{"version":3,"sources":["C:/Users/sudha/Desktop/NCSU/Junior Year NCSU/CSC 342/342-frontend-2/src/components/Filter.js"],"names":["React","useEffect","useState","Accordion","AccordionSummary","Typography","AccordionDetails","FormControl","FormLabel","RadioGroup","FormControlLabel","Radio","Divider","Slider","ExpandMoreIcon","Filter","movies","setMovies","watchlist","setWatchlist","database","radio","setRadio","rating","setRating","minimumRating","setMinimumRating","updateMovies","filtered","filter","movie","i","length","id","Error","vote_average","vote_count","color","e","currentTarget","value","newRating","newMinimumRating"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Accordion, AccordionSummary, Typography, AccordionDetails, FormControl, FormLabel, RadioGroup, FormControlLabel, Radio, Divider, Slider } from '@mui/material';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nconst Filter = ({movies, setMovies, watchlist, setWatchlist}) => {\r\n    const [database] = useState(movies);\r\n    const [radio, setRadio] = useState('Everything');\r\n    const [rating, setRating] = useState([0, 10]);\r\n    const [minimumRating, setMinimumRating] = useState(0);\r\n\r\n    // handles updating the movies when any of the filters change\r\n    useEffect(\r\n        () => {\r\n            const updateMovies = () => {\r\n                let filtered = [];\r\n                if (watchlist !== null && setWatchlist !== null) {\r\n                    if (radio === 'Everything') {\r\n                        filtered = database;\r\n                    } else if (radio === 'InWatchlist') {\r\n                        filtered = watchlist;\r\n                    } else if (radio === 'NotInWatchlist') {\r\n                        filtered = database.filter(movie => {\r\n                            for (let i = 0; i < watchlist.length; i++) \r\n                                if (watchlist[i].id === movie.id) return false;\r\n                            return true;\r\n                        });\r\n                    } else \r\n                        throw new Error('There was an error!');\r\n                }\r\n                else {\r\n                    filtered = database;\r\n                }\r\n\r\n                filtered = filtered.filter(movie => (movie.vote_average >= rating[0] && movie.vote_average <= rating[1] && movie.vote_count >= minimumRating));\r\n\r\n                return filtered;\r\n            }\r\n\r\n            setMovies(updateMovies()); // eslint-disable-next-line   \r\n        }, [radio, rating, minimumRating]);\r\n\r\n    \r\n    if (watchlist !== null) {\r\n        return (\r\n            <>\r\n                <Accordion>\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                    >\r\n                    <Typography style={{ color: '#CC0000'}}>Filters</Typography>\r\n                    </AccordionSummary>\r\n                    <Divider />\r\n                    <AccordionDetails>\r\n                    <br/>\r\n                        <FormControl \r\n                            component=\"fieldset\" \r\n                            focused={false}\r\n                        >\r\n                            <FormLabel component=\"legend\">Show Me\r\n                                <RadioGroup defaultValue={radio}>\r\n                                    <FormControlLabel value=\"Everything\" onChange={e => setRadio(e.currentTarget.value)} control={<Radio color=\"error\"/>} label=\"Everything\" />\r\n                                    <FormControlLabel value=\"InWatchlist\" onChange={e => setRadio(e.currentTarget.value)} control={<Radio color=\"error\"/>} label=\"In My Watchlist\" />\r\n                                    <FormControlLabel value=\"NotInWatchlist\" onChange={e => setRadio(e.currentTarget.value)} control={<Radio color=\"error\"/>} label=\"Not In My Watchlist\" />\r\n                                </RadioGroup>\r\n                            </FormLabel>\r\n                            <br/>\r\n                            <Divider />\r\n                            <br/>\r\n                            <FormLabel component=\"legend\">Rating\r\n                                <Slider\r\n                                    style={{color: '#CC0000'}}\r\n                                    valueLabelDisplay=\"auto\"\r\n                                    value={rating}\r\n                                    onChange={(e, newRating) => setRating(newRating)}\r\n                                    step={1}\r\n                                    marks\r\n                                    min={0}\r\n                                    max={10}\r\n                                />\r\n                            </FormLabel>\r\n                            <Divider />\r\n                            <br/>\r\n                            <FormLabel component=\"legend\">Minimum Number of Ratings\r\n                                <Slider\r\n                                    style={{color: '#CC0000'}}\r\n                                    defaultValue={0}\r\n                                    valueLabelDisplay=\"auto\"\r\n                                    value={minimumRating}\r\n                                    onChange={(e, newMinimumRating) => setMinimumRating(newMinimumRating)}\r\n                                    step={50}\r\n                                    marks\r\n                                    min={0}\r\n                                    max={500}\r\n                                />\r\n                            </FormLabel>\r\n                        </FormControl>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n    else {\r\n        return (\r\n            <>\r\n                <Accordion>\r\n                    <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                    >\r\n                    <Typography style={{ color: '#CC0000'}}>Filters</Typography>\r\n                    </AccordionSummary>\r\n                    <Divider />\r\n                    <AccordionDetails>\r\n                    <br/>\r\n                        <FormControl \r\n                            component=\"fieldset\" \r\n                            focused={false}\r\n                        >\r\n                            <FormLabel component=\"legend\">Rating\r\n                                <Slider\r\n                                    style={{color: '#CC0000'}}\r\n                                    valueLabelDisplay=\"auto\"\r\n                                    value={rating}\r\n                                    onChange={(e, newRating) => setRating(newRating)}\r\n                                    step={1}\r\n                                    marks\r\n                                    min={0}\r\n                                    max={10}\r\n                                />\r\n                            </FormLabel>\r\n                            <Divider />\r\n                            <br/>\r\n                            <FormLabel component=\"legend\">Minimum Number of Ratings\r\n                                <Slider\r\n                                    style={{color: '#CC0000'}}\r\n                                    defaultValue={0}\r\n                                    valueLabelDisplay=\"auto\"\r\n                                    value={minimumRating}\r\n                                    onChange={(e, newMinimumRating) => setMinimumRating(newMinimumRating)}\r\n                                    step={50}\r\n                                    marks\r\n                                    min={0}\r\n                                    max={500}\r\n                                />\r\n                            </FormLabel>\r\n                        </FormControl>\r\n                    </AccordionDetails>\r\n                </Accordion>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Filter;\r\n"]},"metadata":{},"sourceType":"module"}